require 'spec_helper'

describe Service::UserFetchResult do
  it "should return user info" do
    response = {"id" => 213747670, "id_str" => "213747670", "name" => "The twitter Ruby Gem", "screen_name" => "gem", "location" => "San Francisco, CA", "description" => "A Ruby wrapper for Twitter API", "url" => "http://t.co/rnjr99Mf9o", "entities" => {"url" => {"urls" => [{"url" => "http://t.co/rnjr99Mf9o", "expanded_url" => "http://rubygems.org/gems/twitter", "display_url" => "rubygems.org/gems/twitter", "indices" => [0, 22]}]}, "description" => {"urls" => []}}, "protected" => false, "followers_count" => 1181, "friends_count" => 7, "listed_count" => 63, "created_at" => "Tue Nov 09 18:03:22 +0000 2010", "favourites_count" => 3, "utc_offset" => -25200, "time_zone" => "Pacific Time (US & Canada)", "geo_enabled" => true, "verified" => false, "statuses_count" => 86, "lang" => "en", "status" => {"created_at" => "Sun Jul 28 07:55:11 +0000 2013", "id" => 361394389903355905, "id_str" => "361394389903355905", "text" => "Retiring the fail whale. https://t.co/hXcj6QlT3r", "source" => "<a href=\"http://rubygems.org/gems/twitter\" rel=\"nofollow\">The Ruby Gem</a>", "truncated" => false, "in_reply_to_status_id" => nil, "in_reply_to_status_id_str" => nil, "in_reply_to_user_id" => nil, "in_reply_to_user_id_str" => nil, "in_reply_to_screen_name" => nil, "geo" => nil, "coordinates" => nil, "place" => nil, "contributors" => nil, "retweet_count" => 3, "favorite_count" => 2, "entities" => {"hashtags" => [], "symbols" => [], "urls" => [{"url" => "https://t.co/hXcj6QlT3r", "expanded_url" => "https://github.com/sferik/twitter/commit/a4ef3acc035dc2786a9b11a295c4c59ba4f51dcd", "display_url" => "github.com/sferik/twitter", "indices" => [27, 50]}], "user_mentions" => []}, "favorited" => false, "retweeted" => false, "possibly_sensitive" => false, "lang" => "en"}, "contributors_enabled" => false, "is_translator" => false, "profile_background_color" => "022330", "profile_background_image_url" => "http://a0.twimg.com/images/themes/theme15/bg.png", "profile_background_image_url_https" => "https://si0.twimg.com/images/themes/theme15/bg.png", "profile_background_tile" => false, "profile_image_url" => "http://a0.twimg.com/profile_images/2921081357/9e8b8662cd9c4c06887365d559e714a3_normal.png", "profile_image_url_https" => "https://si0.twimg.com/profile_images/2921081357/9e8b8662cd9c4c06887365d559e714a3_normal.png", "profile_link_color" => "0084B4", "profile_sidebar_border_color" => "A8C7F7", "profile_sidebar_fill_color" => "C0DFEC", "profile_text_color" => "333333", "profile_use_background_image" => true, "default_profile" => false, "default_profile_image" => false, "following" => false, "follow_request_sent" => false, "notifications" => false}
    user = Service::UserFetchResult.new(response).to_model
    user.name.should == "The twitter Ruby Gem"
    user.location.should == "San Francisco, CA"
    user.description.should == "A Ruby wrapper for Twitter API"
  end
end